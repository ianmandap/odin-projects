<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Google Font-->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@100;300&display=swap" rel="stylesheet">

    <title>Rock Paper Scissors</title>
</head>

<body>
    <script>
        // Establish global variables
        let playerWins = 0;
        let playerLoses = 0;
        let computerWins = 0;
        let computerLoses = 0;
        let gamesPlayed = 0;
        let bestOf = 5;


        function computerPlay() {
            // generates a number from 1 to 3 (inclusive)
            // 1 (Rock), 2 (Paper), 3 (Scissors)
            return Math.floor((Math.random()*3)+1);
        }

        function playRound(playerSelection, computerSelection) {
            // outputs win/lose on a game of rock-paper-scissors

            // Check first if draw
            if (playerSelection == computerSelection) {
                gamesPlayed += 1;
                return "Draw! Choose again.";
            }

            // Check outcome
            if (playerSelection == 1 && computerSelection == 2) {
                playerLoses += 1;
                computerWins += 1;
                gamesPlayed += 1;
                return "You Lose! Rock is beaten by Paper"
            }

            else if (playerSelection == 1 && computerSelection == 3) {
                playerWins += 1;
                computerLoses += 1;
                gamesPlayed += 1;
                return "You Win! Rock beats Scissors"
            }

            else if (playerSelection == 2 && computerSelection == 1) {
                playerWins += 1;
                computerLoses += 1;
                gamesPlayed += 1;
                return "You Win! Paper beats Rock"
            }

            else if (playerSelection == 2 && computerSelection == 3) {
                playerLoses += 1;
                computerWins += 1;
                gamesPlayed += 1;
                return "You Lose! Paper is beaten by Scissors"
            }

            else if (playerSelection == 3 && computerSelection == 1) {
                playerLoses += 1;
                computerWins += 1;
                gamesPlayed += 1;
                return "You Lose! Scissors is beaten by Rock"
            }

            else if (playerSelection == 3 && computerSelection == 2) {
                playerWins += 1;
                computerLoses += 1;
                gamesPlayed += 1;
                return "You Win! Scissors beats Paper"
            }

            else {
                return "Please enter a valid number."
            }
        }

        function game() {
            // Plays a game and checks if there is a winner
            const playerSelection = prompt("Choose. 1: Rock, 2: Paper, 3: Scissors");
            const computerSelection = computerPlay();
            console.log(playRound(playerSelection, computerSelection));

            if (playerWins == 5) {
                console.log("You are the overall Winner!");
            }

            if (computerWins == 5) {
                console.log("Computer is the overall Winner!");
            }
        }

        // while (playerWins < 5 || computerWins < 5) {
        //     game();
        // }

    </script>


</body>
</html>